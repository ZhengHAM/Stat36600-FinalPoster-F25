---
title: Prediction of Civil War Dataset (Title Pending)
subtitle: |
  Final Poster Project
author: HOWARD MA, CODY LEJANG, GAYATHRI PILLAI
output:
  pdf_document:
    toc: false
  html_document:
    toc: false
    code-overflow: wrap
    code-fold: false
    theme: spacelab
urlcolor: blue
---

## 1. Introduction

This project examines the civil war dataset with the purpose to determine whether a country was experiencing a civil war at the time the data were gathered, using several socio-economic and demographic predictors such as export dependence, schooling rates, GDP growth rate, and various others. Our focus is to focus on learning the associations between the predictors and at the end be able to predict a classification result.

We will compare a collection of different models to evaluate how accurately they can distinguish between countries in civil war and those not in conflict. We will begin with a brief overview of the dataset and some basic exploratory summaries. We will then split the data into training and test sets and proceed to fit multiple models, including logistic regression, best-subset logistic regression, classification trees, random forest, and SVM. For each model, we will compute predicted probabilities, evaluate performance using ROC curves and AUC, and use Youden’s J statistic to select an appropriate decision threshold for the final chosen model.

By the end of the analysis, we aim to identify which statistical learning method provides the strongest predictive performance for this dataset and to summarize how well civil war occurrence can be predicted from the available structural indicators.

```{r echo=FALSE}
suppressMessages(library(tidyverse))
SEED <- 400
```

---

## 2. Data Overview and Exploratory Analysis

We will begin with a basic inspection and overview of the dataset, mainly focusing on dimensions, structure, completeness, and some initial summary statistics. This section will set as a foundation for future analysis

```{r}
df <- read.csv("civilWar.csv", stringsAsFactors = TRUE)

# Basic overview
dim(df)
colSums(is.na(df))
```
The dataset contains 741 rows and 8 columns, representing 7 predictor variables and one binary response `civil.war`. This provides a reasonably sized sample for classification analysis and should allow the models to generalize effectively. Additionally, a check for missing values shows that none of the variables contain NA entries, meaning the dataset is complete and requires no additional cleaning or imputation prior to model fitting.
```{r}
summary(df)
```
From the summary statistics, we observe the following key points:

1. Exports are generally low, with a small number of countries showing much higher dependence, indicating mild right skew.

2. Schooling rates vary widely, suggesting significant differences in educational development across countries.

3. GDP growth includes both strongly negative and strongly positive values, reflecting varying levels of economic stability.

4. Population concentration spans almost the full 0–1 range, showing that some countries are highly centralized while others are very dispersed.

5. Fractionalization has a very wide range, indicating large differences in ethnic/religious diversity.

6. Civil war cases are rare (99 `YES` vs 642 `NO`), meaning the response is imbalanced and model evaluation should rely on AUC instead of accuracy.

Overall, the dataset shows clean values, broad variability across predictors, and a relatively small number of civil war observations, all of which will influence model performance and threshold selection.

```{r}
quant_vars <- df %>% select(exports, schooling, growth, concentration, lnpop, 
  fractionalization)

# Converted dfor Faceting
quant_long <- quant_vars %>%
  pivot_longer(cols = everything(), names_to = "variable", values_to = "value")


ggplot(quant_long, aes(x = value)) +
  geom_histogram(bins = 30, fill = "pink", color = "blue") +
  facet_wrap(~ variable, scales = "free", ncol = 3) +
  labs(title = "Distribution of Quantitative Predictors",
       x = "Value",
       y = "Count")

table(df$civil.war)
prop.table(table(df$civil.war))
```
After plotting the variables, some, such as `exports` and `fractionalization`, exhibit strong right skew, indicating that a small subset of countries has unusually high values. Others, like `growth` and `lnpop`, are more symmetrically distributed. Concentration spans the full 0 to 1 range, reflecting large differences in how geographically centralized populations are. Together, these patterns suggest that nonlinear models may capture structure that simple linear boundaries cannot.

One very important point to note is that the response variable, civil.war, is highly imbalanced: only 13.4% of observations correspond to ongoing civil war (99 `YES` vs. 642 `NO`). Because of this imbalance, classification accuracy alone would be misleading, and ROC/AUC will be used as the primary performance metric in later sections.

Overall, the dataset is clean, contains no missing values, and exhibits enough variability across predictors to support meaningful classification analysis.

---